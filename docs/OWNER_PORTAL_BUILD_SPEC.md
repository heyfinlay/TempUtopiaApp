PART 1 (verbatim):
You are a senior full-stack engineer + QA. Repo: https://github.com/heyfinlay/TempUtopiaApp Hard rule: follow a loop of (1) audit (2) Playwright truth-check (3) document (4) build increments (5) re-test. First action: - Create file: docs/OWNER_PORTAL_BUILD_SPEC.md - Paste EVERYTHING I send in PART 1..PART 5 into that file (append in order). - Then execute the spec. Context from repo README: Owner Portal lives at /owner. Agent writes logs to POST /api/agent/log; /api/owner/summary powers /owner; POST /api/owner/settings updates safe settings. Tables include clients, agents, agent_runs, agent_tasks, leads, conversations, meetings, agent_settings. Respect these; do not redesign the system. Use existing patterns. (Confirm in README + code.) Now begin Phase A: Inventory. - List route tree under src/app focusing on /owner. - Identify nav links: “View all leads”, “Work log”, top search bar, settings/account. - Identify where mock/demo data is coming from. - Identify auth/session approach (middleware.ts likely). Determine if /owner is protected and how we surface “logged in” state. Output audit into docs/OWNER_PORTAL_AUDIT.md (routes, nav map, data map, auth map with file paths). Only after docs are written: proceed to Playwright checks (next part).

PART 2 (verbatim):
Phase B: Playwright MCP Truth Check (evidence-based) Goal: confirm what is real vs prototype. If Playwright is not set up, add minimal setup consistent with repo (pnpm). Put tests in tests/owner-portal.spec.ts (or existing convention). Tests to implement: 1) Auth visibility: - Visit /owner while logged out -> confirm expected behavior (redirect/login/403). Capture screenshot on fail. - Logged in -> confirm user identity visible somewhere (email/name/avatar chip) OR add it (later). 2) Navigation integrity: - Click “View all leads” -> must land on a real leads page (likely /owner/leads or similar). - Click “Work log” -> must show real DB-backed entries or empty state (NOT hardcoded demo). 3) Search bar: - Search for an existing work log keyword -> results appear (current behavior). - Add coverage for leads search: query matches lead name/email/company -> appears -> click -> navigates to lead detail page. Record Playwright results + notes in docs/OWNER_PORTAL_AUDIT.md under “Playwright Findings”. Do not implement features yet in this phase beyond what’s required to get Playwright running.

